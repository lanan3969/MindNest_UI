# 🚀 MindNest 快速启动指南

## 📋 前置要求

### 必需软件
- ✅ **Python 3.8+** (后端服务)
- ✅ **Node.js 16+** (移动端应用)
- ✅ **Unity 2022.3+** (MR体验)
- ✅ **现代浏览器** (Chrome/Edge/Firefox)

---

## 🎯 选择你的启动方式

### 方式1️⃣: 仅体验四季树动画 ⭐ 最简单
无需安装，直接在浏览器打开：

```bash
# Windows: 双击文件
03_MR_Experience/tree_final.html

# 或在浏览器地址栏输入文件路径
file:///你的路径/03_MR_Experience/tree_final.html
```

**操作说明**:
1. 点击漂浮的金色光球获取任务
2. 右上角菜单选择"Season"切换季节
3. 选择"Cycle"自动循环四季

---

### 方式2️⃣: 启动完整MR体验

#### 步骤1: 打开Unity项目
```bash
1. 打开 Unity Hub
2. 点击 "Add" → 选择文件夹：
   03_MR_Experience/MindNest_MR
3. 确保Unity版本是 2022.3.6f1 或更高
4. 点击项目名称打开
```

#### 步骤2: 配置场景
```bash
1. 在Project窗口，打开：
   Assets/Scenes/SampleScene.unity

2. 在Hierarchy中找到TreeViewController对象

3. 在Inspector中设置引用：
   - Tree System: 拖入 LifeTree/ParticleTreeSystem
   - UI Manager: 拖入 MRUIManager
   - Main Camera: 拖入 Main Camera
   - Tree Transform: 拖入 LifeTree
```

#### 步骤3: 运行
```bash
1. 点击顶部的 Play 按钮 ▶
2. 等待场景加载
3. 按照UI提示操作
```

#### 步骤4: 体验四季树
```bash
1. 在主菜单点击 "🌳 我的树"
2. 在右上角找到 Season 下拉框
3. 选择季节：
   - Default: 金色（默认）
   - Spring: 樱花（浅绿+粉色）
   - Summer: 繁茂（深绿+浅绿）
   - Autumn: 落叶（橙色+红色）
   - Winter: 雪花（白色+淡蓝）
4. 观察树的颜色在2秒内平滑过渡
```

---

### 方式3️⃣: 启动完整系统（后端+移动端+MR）

#### 步骤1: 启动后端服务 🔧
```bash
# 打开命令行/终端
cd 01_Backend_AI

# 安装依赖（首次运行）
pip install -r requirements.txt

# 启动服务
python main.py

# 看到以下提示表示成功：
# INFO:     Uvicorn running on http://0.0.0.0:8000
```

**测试**: 打开浏览器访问 http://localhost:8000/docs

#### 步骤2: 启动移动端应用 📱
```bash
# 打开新的命令行窗口
cd 02_Mobile_App

# 安装依赖（首次运行）
npm install

# 启动应用
npm start

# 浏览器会自动打开 http://localhost:3000
```

#### 步骤3: 启动Unity MR体验 🥽
参考"方式2️⃣"的步骤

---

## ⚙️ 常用命令

### 后端服务
```bash
# 启动开发服务器
python main.py

# 查看API文档
# 访问 http://localhost:8000/docs

# 停止服务
# Ctrl + C
```

### 移动端应用
```bash
# 安装依赖
npm install

# 启动开发服务器
npm start

# 构建生产版本
npm run build

# 停止服务
# Ctrl + C
```

### Unity项目
```bash
# 重新生成Library（如果删除了）
# 直接打开项目，Unity会自动重新生成（约3-5分钟）

# 清理项目
# 运行根目录的 清理项目.bat
```

---

## 🔧 故障排除

### 问题1: Unity下拉框看不到选项
**症状**: 点击Season下拉框，下拉列表是空白的

**解决方案**:
1. 在Hierarchy中找到：`SeasonDropdown > Template > Viewport`
2. 在Inspector中找到Viewport对象的"Mask"组件
3. **取消勾选** Mask组件（让它变成unchecked状态）
4. 重新运行场景

### 问题2: 选择季节后树不变色
**症状**: 点击Spring等选项，树的颜色不变

**解决方案**:
1. 在Hierarchy中找到TreeViewController对象
2. 在Inspector中检查"Tree System"引用
3. 如果是"None"，拖入`LifeTree > ParticleTreeSystem`
4. 保存场景，重新运行

### 问题3: 点击下拉框Unity崩溃
**症状**: 点击下拉框后Unity卡死或崩溃

**解决方案**:
- 这是旧版本的bug，已修复
- 确保使用最新的`MRUIManager.cs`文件
- 如果还有问题，删除`Library`文件夹重新打开项目

### 问题4: 后端启动失败
**症状**: `python main.py` 报错

**解决方案**:
```bash
# 确保Python版本正确
python --version  # 应该是 3.8 或更高

# 重新安装依赖
pip install -r requirements.txt --force-reinstall

# 检查端口占用
# Windows:
netstat -ano | findstr :8000
# Linux/Mac:
lsof -i :8000
```

### 问题5: npm安装失败
**症状**: `npm install` 报错

**解决方案**:
```bash
# 清理npm缓存
npm cache clean --force

# 删除node_modules和package-lock.json
rm -rf node_modules package-lock.json

# 重新安装
npm install
```

---

## 📚 更多帮助

- 📖 **详细文档**: 查看 `项目说明文档.md`
- ❓ **常见问题**: 查看 `README.md` 的FAQ部分
- 🔍 **代码说明**: 查看各个脚本文件的注释

---

## 🎮 键盘快捷键（Unity）

- **F** - 聚焦选中对象
- **Ctrl + D** - 复制对象
- **Ctrl + Z** - 撤销
- **Ctrl + Y** - 重做
- **Space** - 暂停/继续游戏
- **Ctrl + P** - 播放/停止
- **Ctrl + S** - 保存场景

---

## 📊 性能优化建议

### Unity编辑器
- 关闭不需要的窗口（Animation, Profiler等）
- 降低Game窗口分辨率
- 禁用Scene窗口的"Gizmos"

### 网页版树动画
- 关闭浏览器的其他标签页
- 使用硬件加速（Chrome设置中启用）

---

## ✅ 快速测试清单

- [ ] 后端服务在8000端口运行
- [ ] 移动端应用在3000端口运行  
- [ ] Unity场景可以正常播放
- [ ] Season下拉框显示5个选项
- [ ] 选择Spring后树变成浅绿+粉色
- [ ] 选择Winter后树变成白色+淡蓝色
- [ ] 网页版tree_final.html可以打开

---

**祝您使用愉快！** 🎉

如有问题，请查看 `项目说明文档.md` 或联系开发团队。

